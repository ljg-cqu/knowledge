<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Hyperledger Aries: The Emerging Entity Service Mesh for Decentralized Identity</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.5.0/mermaid.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&amp;family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <style>
        :root {
            --primary: #0f172a;
            --secondary: #1e293b;
            --accent: #3b82f6;
            --surface: #f8fafc;
            --muted: #64748b;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.7;
            color: var(--primary);
        }
        
        .serif {
            font-family: 'Playfair Display', serif;
        }
        
        .hero-gradient {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
        }
        
        .accent-gradient {
            background: linear-gradient(90deg, var(--accent), #2563eb);
        }
        
        .toc-fixed {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 280px;
            background: var(--surface);
            border-right: 1px solid #e2e8f0;
            overflow-y: auto;
            z-index: 50;
            padding: 2rem 1.5rem;
        }
        
        .main-content {
            margin-left: 280px;
            min-height: 100vh;
        }
        
        .bento-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            grid-template-rows: auto auto;
            gap: 1.5rem;
            height: 70vh;
        }
        
        .bento-main {
            grid-row: 1 / 3;
            position: relative;
            overflow: hidden;
        }
        
        .bento-side-1 {
            grid-column: 2;
            grid-row: 1;
        }
        
        .bento-side-2 {
            grid-column: 2;
            grid-row: 2;
        }
        
        .citation-link {
            color: var(--accent);
            text-decoration: none;
            font-weight: 500;
            border-bottom: 1px solid transparent;
            transition: border-color 0.2s;
        }
        
        .citation-link:hover {
            border-bottom-color: var(--accent);
        }
        
        .phase-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
        }
        
        .phase-card:hover {
            border-color: var(--accent);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);
        }
        
        .verb-highlight {
            background: linear-gradient(90deg, #dbeafe, #bfdbfe);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-weight: 600;
            color: #1e40af;
        }
        
        .mermaid-container {
            display: flex;
            justify-content: center;
            min-height: 300px;
            max-height: 800px;
            background: #ffffff;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 15px;
            margin: 30px 0;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            position: relative;
            overflow: hidden;
        }

        .mermaid-container .mermaid {
            width: 100%;
            max-width: 100%;
            height: 100%;
            cursor: grab;
            transition: transform 0.3s ease;
            transform-origin: center center;
            display: flex;
            justify-content: center;
            align-items: center;
            touch-action: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .mermaid-container .mermaid svg {
            max-width: 100%;
            height: 100%;
            display: block;
            margin: 0 auto;
        }

        .mermaid-container .mermaid:active {
            cursor: grabbing;
        }

        .mermaid-container.zoomed .mermaid {
            height: 100%;
            width: 100%;
            cursor: grab;
        }

        .mermaid-controls {
            position: absolute;
            top: 15px;
            right: 15px;
            display: flex;
            gap: 10px;
            z-index: 20;
            background: rgba(255, 255, 255, 0.95);
            padding: 8px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .mermaid-control-btn {
            background: #ffffff;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            padding: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: #374151;
            font-size: 14px;
            min-width: 36px;
            height: 36px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mermaid-control-btn:hover {
            background: #f8fafc;
            border-color: #3b82f6;
            color: #3b82f6;
            transform: translateY(-1px);
        }

        .mermaid-control-btn:active {
            transform: scale(0.95);
        }
        
@media (max-width: 768px) {
    .mermaid-controls {
        display: none;
    }
    
    .mermaid-container {
        padding: 0;
        border: none;
        box-shadow: none;
    }
}

@media (max-width: 1024px) {
    .toc-fixed {
        display: none;
    }
    
    .main-content {
        margin-left: 0;
    }
    
    .bento-grid {
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto;
        height: auto;
    }
    
    .bento-main {
        grid-row: 1;
        grid-column: 1;
    }
    
    .bento-side-1 {
        grid-column: 1;
        grid-row: 2;
    }
    
    .bento-side-2 {
        grid-column: 1;
        grid-row: 3;
    }
}

@media (max-width: 640px) {
    .hero-gradient .serif.text-5xl {
        font-size: 2.25rem;
        line-height: 2.5rem;
    }
    
    .hero-gradient .text-xl {
        font-size: 1rem;
        line-height: 1.5rem;
    }
    
    .relative.z-10.max-w-7xl.mx-auto.px-8.py-16 {
        padding-left: 1rem;
        padding-right: 1rem;
    }
}

@media (max-width: 480px) {
    .hero-gradient .serif.text-5xl {
        font-size: 1.875rem;
        line-height: 2.25rem;
    }
    
    .hero-gradient .text-xl {
        font-size: 0.875rem;
        line-height: 1.25rem;
    }
}

@media (max-width: 390px) {
    .hero-gradient .serif.text-5xl {
        font-size: 1.75rem;
        line-height: 2rem;
    }
}
    </style>
  <base target="_blank">
</head>

  <body class="bg-gray-50">
    <!-- Fixed Table of Contents -->
    <nav class="toc-fixed">
      <h3 class="serif text-lg font-semibold text-gray-900 mb-4">Contents</h3>
      <ul class="space-y-2 text-sm">
        <li>
          <a href="#executive-summary" class="block py-1 text-gray-600 hover:text-blue-600 transition-colors">Executive Summary</a>
        </li>
        <li>
          <a href="#lifecycle-coverage" class="block py-1 text-gray-600 hover:text-blue-600 transition-colors">Lifecycle Coverage</a>
        </li>
        <li>
          <a href="#requirements-discovery" class="block py-1 text-gray-600 hover:text-blue-600 transition-colors">Requirements &amp; Discovery</a>
        </li>
        <li>
          <a href="#architecture-design" class="block py-1 text-gray-600 hover:text-blue-600 transition-colors">Architecture &amp; Design</a>
        </li>
        <li>
          <a href="#development" class="block py-1 text-gray-600 hover:text-blue-600 transition-colors">Development</a>
        </li>
        <li>
          <a href="#testing-quality" class="block py-1 text-gray-600 hover:text-blue-600 transition-colors">Testing &amp; Quality</a>
        </li>
        <li>
          <a href="#deployment-release" class="block py-1 text-gray-600 hover:text-blue-600 transition-colors">Deployment &amp; Release</a>
        </li>
        <li>
          <a href="#operations-observability" class="block py-1 text-gray-600 hover:text-blue-600 transition-colors">Operations &amp; Observability</a>
        </li>
        <li>
          <a href="#maintenance-support" class="block py-1 text-gray-600 hover:text-blue-600 transition-colors">Maintenance &amp; Support</a>
        </li>
        <li>
          <a href="#evolution-governance" class="block py-1 text-gray-600 hover:text-blue-600 transition-colors">Evolution &amp; Governance</a>
        </li>
      </ul>

      <div class="mt-6 pt-4 border-t border-gray-200">
        <h4 class="font-medium text-gray-900 mb-2">Key Stakeholders</h4>
        <ul class="text-xs text-gray-600 space-y-1">
          <li>• Business Analyst</li>
          <li>• Product Manager</li>
          <li>• Architect</li>
          <li>• Developer</li>
          <li>• QA Engineer</li>
          <li>• DevOps Engineer</li>
          <li>• Security Engineer</li>
          <li>• Data Engineer</li>
          <li>• SRE</li>
          <li>• Leadership</li>
        </ul>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Hero Section with Bento Grid -->
      <section class="hero-gradient text-white">
        <div class="max-w-7xl mx-auto px-8 py-16">
          <div class="bento-grid">
            <!-- Main Hero Content -->
            <div class="bento-main flex flex-col justify-center relative overflow-hidden">
              <div class="absolute inset-0 opacity-10">
                <img src="https://kimi-web-img.moonshot.cn/img/static.vecteezy.com/9f01f2855d89bff49e4754e850ed4c908e9830ca.jpg" alt="Abstract interconnected nodes forming a mesh network" class="w-full h-full object-cover" size="wallpaper" aspect="wide" query="abstract mesh network" referrerpolicy="no-referrer" data-modified="1" data-score="0.00"/>
              </div>
              <div class="relative z-10">
                <h1 class="serif text-5xl font-bold mb-6 leading-tight">
                  <span class="italic">Hyperledger Aries:</span>
                  <br/>
                  The Emerging Entity Service Mesh for Decentralized Identity
                </h1>
                <p class="text-xl text-gray-300 mb-8 max-w-3xl">
                  A comprehensive analysis of the paradigm shift in digital identity management, exploring the technical architecture, business implications, and governance frameworks for decentralized identity systems.
                </p>
                <div class="flex items-center space-x-6 text-sm text-gray-400">
                  <span><i class="fas fa-network-wired mr-2"></i>Entity Service Mesh</span>
                  <span><i class="fas fa-shield-alt mr-2"></i>Decentralized Identity</span>
                  <span><i class="fas fa-code-branch mr-2"></i>35 Technical Q&amp;As</span>
                </div>
              </div>
            </div>

            <!-- Side Panel 1: Key Stats -->
            <div class="bento-side-1 bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6 border border-white border-opacity-20">
              <h3 class="serif text-lg font-semibold mb-4">Market Momentum</h3>
              <div class="space-y-4">
                <div class="flex justify-between items-center">
                  <span class="text-sm text-gray-300">Global Blockchain Market</span>
                  <span class="font-bold text-blue-300">$280B by 2025</span>
                </div>
                <div class="flex justify-between items-center">
                  <span class="text-sm text-gray-300">YoY Growth Rate</span>
                  <span class="font-bold text-green-300">&gt;30%</span>
                </div>
                <div class="flex justify-between items-center">
                  <span class="text-sm text-gray-300">Major Vendor Investments</span>
                  <span class="font-bold text-purple-300">3+ in 18mo</span>
                </div>
              </div>
            </div>

            <!-- Side Panel 2: Core Tech -->
            <div class="bento-side-2 bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6 border border-white border-opacity-20">
              <h3 class="serif text-lg font-semibold mb-4">Core Technologies</h3>
              <div class="grid grid-cols-2 gap-3 text-sm">
                <div class="bg-black bg-opacity-20 rounded-lg p-3 text-center">
                  <i class="fas fa-id-card text-blue-300 mb-2"></i>
                  <div class="font-medium">DIDs</div>
                  <div class="text-xs text-gray-400">Decentralized IDs</div>
                </div>
                <div class="bg-black bg-opacity-20 rounded-lg p-3 text-center">
                  <i class="fas fa-certificate text-green-300 mb-2"></i>
                  <div class="font-medium">VCs</div>
                  <div class="text-xs text-gray-400">Verifiable Creds</div>
                </div>
                <div class="bg-black bg-opacity-20 rounded-lg p-3 text-center">
                  <i class="fas fa-exchange-alt text-purple-300 mb-2"></i>
                  <div class="font-medium">DIDComm</div>
                  <div class="text-xs text-gray-400">Protocol</div>
                </div>
                <div class="bg-black bg-opacity-20 rounded-lg p-3 text-center">
                  <i class="fas fa-cloud text-orange-300 mb-2"></i>
                  <div class="font-medium">ACA-Py</div>
                  <div class="text-xs text-gray-400">Cloud Agent</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Executive Summary -->
      <section id="executive-summary" class="py-16 bg-white">
        <div class="max-w-4xl mx-auto px-8">
          <h2 class="serif text-4xl font-bold text-gray-900 mb-8">Executive Summary</h2>

          <div class="prose prose-lg max-w-none">
            <h3 class="serif text-2xl font-semibold text-gray-800 mb-4">Concept Overview: Hyperledger Aries as an Entity Service Mesh</h3>
            <p class="text-gray-700 mb-6">
              Hyperledger Aries, an open-source project under the Linux Foundation&#39;s Decentralized Trust initiative, represents a significant paradigm shift in managing digital identity and secure communication, positioning itself as a foundational technology for an &#34;entity service mesh.&#34; This concept moves beyond traditional, centralized identity providers by enabling a decentralized network where any entity—be it a person, organization, or device—can manage its own identity and securely interact with others without a central authority.
            </p>

            <div class="bg-blue-50 border-l-4 border-blue-400 p-6 my-8">
              <div class="flex">
                <div class="flex-shrink-0">
                  <i class="fas fa-lightbulb text-blue-400 text-xl"></i>
                </div>
                <div class="ml-3">
                  <h4 class="text-lg font-medium text-blue-900">Key Insight</h4>
                  <p class="text-blue-800 mt-2">
                    The &#34;service mesh&#34; aspect emerges from deploying ACA-Py agents as sidecars alongside applications, creating a dedicated, secure communication plane logically separated from application logic. This <span class="verb-highlight">orchestrates</span> all identity-related operations, <span class="verb-highlight">transforming</span> how trust is established in complex, multi-stakeholder environments.
                  </p>
                </div>
              </div>
            </div>

            <h3 class="serif text-2xl font-semibold text-gray-800 mb-4">Scope and Focus</h3>
            <p class="text-gray-700 mb-6">
              This report provides a comprehensive analysis of Hyperledger Aries as an emerging technology, focusing on its role as an entity service mesh for decentralized identity, claims, and consent management. The analysis is structured across the entire technology lifecycle, from initial requirements and discovery to long-term evolution and governance, examining technical architecture, design patterns, business implications, economic models, regulatory considerations, and ecosystem dynamics.
            </p>

            <h3 class="serif text-2xl font-semibold text-gray-800 mb-4">Key Insights Across Analytical Angles</h3>

            <div class="grid md:grid-cols-3 gap-6 mb-8">
              <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl">
                <i class="fas fa-cogs text-blue-600 text-2xl mb-4"></i>
                <h4 class="font-semibold text-gray-900 mb-2">Technical</h4>
                <p class="text-sm text-gray-700">Sidecar agent pattern using ACA-Py provides a practical and scalable method for integrating decentralized identity into existing systems without significant refactoring.</p>
              </div>
              <div class="bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl">
                <i class="fas fa-handshake text-green-600 text-2xl mb-4"></i>
                <h4 class="font-semibold text-gray-900 mb-2">Business</h4>
                <p class="text-sm text-gray-700">Enables trustless, privacy-preserving B2B data sharing and granular consent management, transforming industries like supply chain, finance, and healthcare.</p>
              </div>
              <div class="bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-xl">
                <i class="fas fa-chart-line text-purple-600 text-2xl mb-4"></i>
                <h4 class="font-semibold text-gray-900 mb-2">Economic</h4>
                <p class="text-sm text-gray-700">Reduces intermediation costs in identity verification while the global blockchain market is projected to reach <strong>$280 billion by 2025</strong>.</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Lifecycle Coverage Overview -->
      <section id="lifecycle-coverage" class="py-16 bg-gray-50">
        <div class="max-w-7xl mx-auto px-8">
          <h2 class="serif text-4xl font-bold text-gray-900 mb-8 text-center">Lifecycle Phase Coverage Overview</h2>

          <div class="overflow-x-auto">
            <table class="w-full bg-white rounded-xl shadow-sm border border-gray-200">
              <thead class="bg-gray-50">
                <tr>
                  <th class="px-6 py-4 text-left text-sm font-semibold text-gray-900">#</th>
                  <th class="px-6 py-4 text-left text-sm font-semibold text-gray-900">Lifecycle Phase</th>
                  <th class="px-6 py-4 text-left text-sm font-semibold text-gray-900">Questions</th>
                  <th class="px-6 py-4 text-left text-sm font-semibold text-gray-900">Primary Angles</th>
                  <th class="px-6 py-4 text-left text-sm font-semibold text-gray-900">Stakeholders</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-200">
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 font-medium text-blue-600">1</td>
                  <td class="px-6 py-4 font-medium">Requirements &amp; Discovery</td>
                  <td class="px-6 py-4 text-sm text-gray-600">Q1-Q4</td>
                  <td class="px-6 py-4 text-sm">
                    <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded mr-1 mb-1">Tech</span>
                    <span class="inline-block bg-green-100 text-green-800 px-2 py-1 rounded mr-1 mb-1">Biz</span>
                    <span class="inline-block bg-red-100 text-red-800 px-2 py-1 rounded mr-1 mb-1">Reg</span>
                  </td>
                  <td class="px-6 py-4 text-sm">BA, PM, Architect</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 font-medium text-blue-600">2</td>
                  <td class="px-6 py-4 font-medium">Architecture &amp; Design</td>
                  <td class="px-6 py-4 text-sm text-gray-600">Q5-Q9</td>
                  <td class="px-6 py-4 text-sm">
                    <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded mr-1 mb-1">Tech</span>
                    <span class="inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded mr-1 mb-1">Design</span>
                    <span class="inline-block bg-yellow-100 text-yellow-800 px-2 py-1 rounded mr-1 mb-1">Eco</span>
                  </td>
                  <td class="px-6 py-4 text-sm">Architect, Developer</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 font-medium text-blue-600">3</td>
                  <td class="px-6 py-4 font-medium">Development</td>
                  <td class="px-6 py-4 text-sm text-gray-600">Q10-Q13</td>
                  <td class="px-6 py-4 text-sm">
                    <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded mr-1 mb-1">Tech</span>
                    <span class="inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded mr-1 mb-1">Design</span>
                    <span class="inline-block bg-yellow-100 text-yellow-800 px-2 py-1 rounded mr-1 mb-1">Eco</span>
                  </td>
                  <td class="px-6 py-4 text-sm">Developer, DevOps</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 font-medium text-blue-600">4</td>
                  <td class="px-6 py-4 font-medium">Testing &amp; Quality</td>
                  <td class="px-6 py-4 text-sm text-gray-600">Q14-Q17</td>
                  <td class="px-6 py-4 text-sm">
                    <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded mr-1 mb-1">Tech</span>
                    <span class="inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded mr-1 mb-1">Design</span>
                    <span class="inline-block bg-red-100 text-red-800 px-2 py-1 rounded mr-1 mb-1">Reg</span>
                  </td>
                  <td class="px-6 py-4 text-sm">QA, Developer</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 font-medium text-blue-600">5</td>
                  <td class="px-6 py-4 font-medium">Deployment &amp; Release</td>
                  <td class="px-6 py-4 text-sm text-gray-600">Q18-Q21</td>
                  <td class="px-6 py-4 text-sm">
                    <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded mr-1 mb-1">Tech</span>
                    <span class="inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded mr-1 mb-1">Design</span>
                    <span class="inline-block bg-yellow-100 text-yellow-800 px-2 py-1 rounded mr-1 mb-1">Eco</span>
                  </td>
                  <td class="px-6 py-4 text-sm">DevOps, SRE</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 font-medium text-blue-600">6</td>
                  <td class="px-6 py-4 font-medium">Operations &amp; Observability</td>
                  <td class="px-6 py-4 text-sm text-gray-600">Q22-Q25</td>
                  <td class="px-6 py-4 text-sm">
                    <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded mr-1 mb-1">Tech</span>
                    <span class="inline-block bg-green-100 text-green-800 px-2 py-1 rounded mr-1 mb-1">Econ</span>
                    <span class="inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded mr-1 mb-1">Design</span>
                  </td>
                  <td class="px-6 py-4 text-sm">SRE, Leadership</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 font-medium text-blue-600">7</td>
                  <td class="px-6 py-4 font-medium">Maintenance &amp; Support</td>
                  <td class="px-6 py-4 text-sm text-gray-600">Q26-Q29</td>
                  <td class="px-6 py-4 text-sm">
                    <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded mr-1 mb-1">Tech</span>
                    <span class="inline-block bg-green-100 text-green-800 px-2 py-1 rounded mr-1 mb-1">Econ</span>
                    <span class="inline-block bg-red-100 text-red-800 px-2 py-1 rounded mr-1 mb-1">Reg</span>
                  </td>
                  <td class="px-6 py-4 text-sm">Developer, Security</td>
                </tr>
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 font-medium text-blue-600">8</td>
                  <td class="px-6 py-4 font-medium">Evolution &amp; Governance</td>
                  <td class="px-6 py-4 text-sm text-gray-600">Q30-Q33</td>
                  <td class="px-6 py-4 text-sm">
                    <span class="inline-block bg-green-100 text-green-800 px-2 py-1 rounded mr-1 mb-1">Biz</span>
                    <span class="inline-block bg-green-100 text-green-800 px-2 py-1 rounded mr-1 mb-1">Econ</span>
                    <span class="inline-block bg-yellow-100 text-yellow-800 px-2 py-1 rounded mr-1 mb-1">Eco</span>
                  </td>
                  <td class="px-6 py-4 text-sm">PM, Architect, Leadership</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Questions by Lifecycle Phase -->
      <section class="py-16 bg-white">
        <div class="max-w-6xl mx-auto px-8">

          <!-- Requirements &amp; Discovery -->
          <div id="requirements-discovery" class="mb-16">
            <h2 class="serif text-3xl font-bold text-gray-900 mb-8 flex items-center">
              <span class="inline-block w-8 h-8 bg-blue-500 text-white rounded-full text-center leading-8 text-sm mr-3">1</span>
              Requirements &amp; Discovery
            </h2>

            <div class="phase-card">
              <h3 class="serif text-xl font-semibold text-gray-800 mb-4">Q1: Transforming Requirements Gathering for B2B Data-Sharing Platforms</h3>
              <p class="text-gray-700 mb-4">
                <strong>Stakeholder:</strong> Business Analyst, Product Manager
                <br/>
                <strong>Angles:</strong>
                <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mr-2">Business/Market</span>
                <span class="inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs mr-2">Design/Patterns</span>
                <span class="inline-block bg-red-100 text-red-800 px-2 py-1 rounded text-xs">Regulatory</span>
              </p>

              <div class="prose prose-gray max-w-none">
                <p>The adoption of a decentralized identity model fundamentally <span class="verb-highlight">transforms</span> the requirements gathering process by shifting focus from centralized data ownership to user-centric trust relationships. In traditional B2B platforms, Business Analysts model requirements around central databases, defining user roles and access controls that the platform <span class="verb-highlight">controls</span>.</p>

                <p>With Aries, the BA must instead <span class="verb-highlight">model</span> peer-to-peer relationships where each organization is a sovereign entity. The core task becomes defining how <strong>trust is established and claims are verified</strong> between entities, rather than how data is stored. This requires articulating business rules for credential issuance, verification, and revocation, plus workflows for granular consent management.</p>

                <p>This paradigm <span class="verb-highlight">extends</span> the BA&#39;s toolkit to include &#34;trust frameworks&#34; and &#34;governance models,&#34; working with Product Managers and Architects to define authoritative credentials and trusted issuers. The BA must also consider regulatory implications, as data decentralization <span class="verb-highlight">reduces</span> breach liability but requires consent mechanisms that <span class="verb-highlight">comply</span> with GDPR and other privacy regulations.</p>
              </div>

              <div class="mt-6 p-4 bg-gray-50 rounded-lg">
                <h4 class="font-semibold text-gray-800 mb-2">Key Relationships:</h4>
                <ul class="text-sm text-gray-700 space-y-1">
                  <li>• Aries <span class="verb-highlight">transforms</span> requirements from data-centric to trust-centric models</li>
                  <li>• Decentralized identity <span class="verb-highlight">extends</span> traditional BA methodologies</li>
                  <li>• Trust frameworks <span class="verb-highlight">replace</span> proprietary verification systems</li>
                  <li>• Consent mechanisms <span class="verb-highlight">comply</span> with GDPR requirements</li>
                </ul>
              </div>
            </div>

            <div class="phase-card">
              <h3 class="serif text-xl font-semibold text-gray-800 mb-4">Q2: Critical Non-Functional Requirements for Consent Management</h3>
              <p class="text-gray-700 mb-4">
                <strong>Stakeholder:</strong> Product Manager, Architect
                <br/>
                <strong>Angles:</strong>
                <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mr-2">Technical</span>
                <span class="inline-block bg-green-100 text-green-800 px-2 py-1 rounded text-xs mr-2">Business/Market</span>
                <span class="inline-block bg-red-100 text-red-800 px-2 py-1 rounded text-xs">Regulatory</span>
              </p>

              <div class="prose prose-gray max-w-none">
                <p>For a Product Manager building consent management with Hyperledger Aries, defining robust Non-Functional Requirements (NFRs) is paramount as they <span class="verb-highlight">govern</span> system usability, security, and compliance. The most critical NFR is <strong>Privacy and Selective Disclosure</strong>, requiring data minimization through zero-knowledge proofs that allow users to prove claims without revealing underlying data.</p>

                <p>A second key NFR is <strong>Scalability and Performance</strong>. The system must handle high volumes of credential transactions with low latency, requiring specific targets like &#34;credential verification must complete in under 500ms.&#34; <strong>Interoperability and Standards Compliance</strong> ensures the system isn&#39;t a walled garden, with Verifiable Credentials conforming to W3C standards.</p>

                <p>Finally, <strong>Security and Auditability</strong> requires secure key management and tamper-evident audit logs, while <strong>Usability and Accessibility</strong> ensures the consent management process is simple and accessible to all users regardless of technical expertise. These NFRs are core to the product&#39;s value proposition and user trust.</p>
              </div>
            </div>
          </div>

          <!-- Architecture &amp; Design -->
          <div id="architecture-design" class="mb-16">
            <h2 class="serif text-3xl font-bold text-gray-900 mb-8 flex items-center">
              <span class="inline-block w-8 h-8 bg-blue-500 text-white rounded-full text-center leading-8 text-sm mr-3">2</span>
              Architecture &amp; Design
            </h2>

            <div class="phase-card">
              <h3 class="serif text-xl font-semibold text-gray-800 mb-4">Q5: Sidecar Agent Pattern&#39;s Influence on Microservices Architecture</h3>
              <p class="text-gray-700 mb-4">
                <strong>Stakeholder:</strong> Lead Developer, Architect
                <br/>
                <strong>Angles:</strong>
                <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mr-2">Technical</span>
                <span class="inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs mr-2">Design/Patterns</span>
                <span class="inline-block bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs">Ecosystem/Integration</span>
              </p>

              <div class="prose prose-gray max-w-none">
                <p>The sidecar agent pattern, implemented by Aries Cloud Agent (ACA-Py), profoundly <span class="verb-highlight">influences</span> microservices architecture by introducing dedicated, co-located components for decentralized identity functions. This pattern <span class="verb-highlight">simplifies</span> main application design as developers can <span class="verb-highlight">delegate</span> complex cryptographic operations and credential management to the ACA-Py sidecar.</p>

                <p>The main service only needs to communicate with its sidecar over a local, lightweight API, <span class="verb-highlight">decoupling</span> the identity layer from application logic. This architectural choice <span class="verb-highlight">transforms</span> service-to-service communication from direct API calls to secure, peer-to-peer connections via DIDComm protocol, orchestrated by the sidecars.</p>
              </div>

              <div class="mt-6">
                <div class="mermaid-container">
                  <div class="mermaid-controls">
                    <button class="mermaid-control-btn zoom-in" title="放大">
                      <i class="fas fa-search-plus"></i>
                    </button>
                    <button class="mermaid-control-btn zoom-out" title="缩小">
                      <i class="fas fa-search-minus"></i>
                    </button>
                    <button class="mermaid-control-btn reset-zoom" title="重置">
                      <i class="fas fa-expand-arrows-alt"></i>
                    </button>
                    <button class="mermaid-control-btn fullscreen" title="全屏查看">
                      <i class="fas fa-expand"></i>
                    </button>
                  </div>
                  <div class="mermaid">
                    graph TB
                    subgraph &#34;Service Pod&#34;
                    App[&#34;Application Service&#34;]
                    Sidecar[&#34;ACA-Py Sidecar&#34;]
                    Wallet[&#34;Secure Wallet&#34;]
                    end

                    subgraph &#34;Identity Mesh&#34;
                    DIDComm1[&#34;DIDComm v2&#34;]
                    DIDComm2[&#34;DIDComm v2&#34;]
                    end

                    subgraph &#34;External Service Pod&#34;
                    ExternalApp[&#34;External Service&#34;]
                    ExternalSidecar[&#34;External ACA-Py&#34;]
                    end

                    App -.-&gt;|&#34;Local API&#34;| Sidecar
                    Sidecar --&gt;|&#34;DIDComm&#34;| DIDComm1
                    DIDComm1 --&gt;|&#34;Encrypted&#34;| DIDComm2
                    DIDComm2 --&gt; ExternalSidecar
                    ExternalSidecar -.-&gt; ExternalApp
                    Sidecar --&gt;|&#34;Manages&#34;| Wallet
                    ExternalSidecar --&gt;|&#34;Manages&#34;| ExternalWallet[&#34;External Wallet&#34;]
                  </div>
                </div>
              </div>

              <div class="mt-6 p-4 bg-gray-50 rounded-lg">
                <h4 class="font-semibold text-gray-800 mb-2">Security Enhancement:</h4>
                <p class="text-sm text-gray-700">Sensitive cryptographic keys and identity data are isolated within the hardened sidecar container, <span class="verb-highlight">reducing</span> the attack surface of the main application.</p>
              </div>
            </div>

            <div class="phase-card">
              <h3 class="serif text-xl font-semibold text-gray-800 mb-4">Q6: Design Trade-offs: Aries vs Traditional PKI for 5G SBA</h3>
              <p class="text-gray-700 mb-4">
                <strong>Stakeholder:</strong> Architect, Security Engineer
                <br/>
                <strong>Angles:</strong>
                <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mr-2">Technical</span>
                <span class="inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs mr-2">Design/Patterns</span>
                <span class="inline-block bg-green-100 text-green-800 px-2 py-1 rounded text-xs">Economic</span>
              </p>

              <div class="overflow-x-auto">
                <table class="w-full text-sm">
                  <thead class="bg-gray-50">
                    <tr>
                      <th class="px-4 py-3 text-left font-medium text-gray-900">Aspect</th>
                      <th class="px-4 py-3 text-left font-medium text-gray-900">Hyperledger Aries</th>
                      <th class="px-4 py-3 text-left font-medium text-gray-900">Traditional PKI</th>
                    </tr>
                  </thead>
                  <tbody class="divide-y divide-gray-200">
                    <tr>
                      <td class="px-4 py-3 font-medium text-gray-900">Trust Model</td>
                      <td class="px-4 py-3 text-green-700"><strong>Decentralized:</strong> No single point of failure</td>
                      <td class="px-4 py-3 text-red-700"><strong>Centralized:</strong> Root CA compromise is catastrophic</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 font-medium text-gray-900">Identity Management</td>
                      <td class="px-4 py-3 text-green-700"><strong>Dynamic &amp; Programmable:</strong> Fine-grained access control</td>
                      <td class="px-4 py-3 text-red-700"><strong>Static &amp; Hierarchical:</strong> Less flexible for complex attributes</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 font-medium text-gray-900">Operational Overhead</td>
                      <td class="px-4 py-3 text-green-700"><strong>Automated Lifecycle:</strong> Complex initial setup</td>
                      <td class="px-4 py-3 text-red-700"><strong>Manual &amp; Complex:</strong> Burdensome at scale</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 font-medium text-gray-900">Interoperability</td>
                      <td class="px-4 py-3 text-green-700"><strong>High:</strong> Open standards (DIDs, VCs, DIDComm)</td>
                      <td class="px-4 py-3 text-red-700"><strong>Variable:</strong> Potential vendor lock-in</td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <p class="text-sm text-gray-600 mt-4">
                <a href="https://arxiv.org/html/2310.19366v2" class="citation-link">[Source: 5G SBA Implementation Study]</a>
              </p>
            </div>
          </div>

          <!-- Development -->
          <div id="development" class="mb-16">
            <h2 class="serif text-3xl font-bold text-gray-900 mb-8 flex items-center">
              <span class="inline-block w-8 h-8 bg-blue-500 text-white rounded-full text-center leading-8 text-sm mr-3">3</span>
              Development
            </h2>

            <div class="phase-card">
              <h3 class="serif text-xl font-semibold text-gray-800 mb-4">Q10: Core Implementation Steps for Verifiable Credential Issuance/Verification</h3>
              <p class="text-gray-700 mb-4">
                <strong>Stakeholder:</strong> Developer
                <br/>
                <strong>Angles:</strong>
                <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mr-2">Technical</span>
                <span class="inline-block bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs mr-2">Ecosystem/Integration</span>
                <span class="inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs">Design/Patterns</span>
              </p>

              <div class="prose prose-gray max-w-none">
                <p>To enable a service to issue and verify Verifiable Credentials using Aries Cloud Agent Python (ACA-Py), a Developer must follow these core implementation steps:</p>

                <ol class="space-y-4">
                  <li><strong>Setup and Configure ACA-Py Agent:</strong>
                    <br/>
                    Start the agent with necessary parameters including ledger connection details (e.g., Hyperledger Indy), wallet storage configuration, and inbound/outbound transport settings (HTTP/WebSocket).
                  </li>
                  <li><strong>Establish DIDComm Connection:</strong>
                    <br/>
                    Create connection invitation → Send to Holder&#39;s agent → Establish secure pairwise DID-based communication channel.
                  </li>
                  <li><strong>Issue Verifiable Credential:</strong>
                    <br/>
                    Define credential schema → Publish to ledger → Send credential-offer → Receive credential-request → Issue credential.
                  </li>
                  <li><strong>Verify Verifiable Credential:</strong>
                    <br/>
                    Send presentation-request → Receive presentation with cryptographic proofs → Verify against ledger data → Return verification result.
                  </li>
                </ol>
              </div>

              <div class="mt-6 p-4 bg-blue-50 rounded-lg">
                <h4 class="font-semibold text-blue-900 mb-2">Key Benefit:</h4>
                <p class="text-sm text-blue-800">Main application code remains decoupled from complex cryptographic and protocol logic, which is all handled by the ACA-Py sidecar.</p>
              </div>
            </div>

            <div class="phase-card">
              <h3 class="serif text-xl font-semibold text-gray-800 mb-4">Q13: Dynamic Consent Management Implementation</h3>
              <p class="text-gray-700 mb-4">
                <strong>Stakeholder:</strong> Developer, Product Manager
                <br/>
                <strong>Angles:</strong>
                <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mr-2">Technical</span>
                <span class="inline-block bg-green-100 text-green-800 px-2 py-1 rounded text-xs mr-2">Business/Market</span>
                <span class="inline-block bg-red-100 text-red-800 px-2 py-1 rounded text-xs">Regulatory</span>
              </p>

              <div class="prose prose-gray max-w-none">
                <p>Implementing dynamic consent management using Aries involves creating cryptographically verifiable and revocable consent objects as Verifiable Credentials. A Developer can achieve this by:</p>

                <div class="grid md:grid-cols-2 gap-6 mt-6">
                  <div class="bg-gray-50 p-4 rounded-lg">
                    <h4 class="font-semibold text-gray-800 mb-3">Consent Grant Flow</h4>
                    <ol class="text-sm space-y-2">
                      <li>1. Design &#34;Consent Receipt&#34; VC schema</li>
                      <li>2. Include: data subject, controller, attributes, purpose, expiration</li>
                      <li>3. Issue VC to user&#39;s Aries wallet</li>
                      <li>4. User gains full control over credential</li>
                    </ol>
                  </div>
                  <div class="bg-gray-50 p-4 rounded-lg">
                    <h4 class="font-semibold text-gray-800 mb-3">Consent Revocation Flow</h4>
                    <ol class="text-sm space-y-2">
                      <li>1. Create revocation registry entry on ledger</li>
                      <li>2. User requests revocation via portal</li>
                      <li>3. Issuer updates registry, marking VC as revoked</li>
                      <li>4. Verification checks fail, access denied</li>
                    </ol>
                  </div>
                </div>

                <p class="mt-4">This mechanism <span class="verb-highlight">ensures</span> that consent is not just a one-time agreement but a dynamic, user-controlled permission that can be enforced in real-time, providing a robust technical foundation for GDPR compliance.</p>
              </div>
            </div>
          </div>

          <!-- Testing &amp; Quality -->
          <div id="testing-quality" class="mb-16">
            <h2 class="serif text-3xl font-bold text-gray-900 mb-8 flex items-center">
              <span class="inline-block w-8 h-8 bg-blue-500 text-white rounded-full text-center leading-8 text-sm mr-3">4</span>
              Testing &amp; Quality
            </h2>

            <div class="phase-card">
              <h3 class="serif text-xl font-semibold text-gray-800 mb-4">Q14: Testing Strategies for Verifiable Credential Integrity</h3>
              <p class="text-gray-700 mb-4">
                <strong>Stakeholder:</strong> QA Engineer, Developer
                <br/>
                <strong>Angles:</strong>
                <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mr-2">Technical</span>
                <span class="inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs mr-2">Design/Patterns</span>
                <span class="inline-block bg-red-100 text-red-800 px-2 py-1 rounded text-xs">Regulatory</span>
              </p>

              <div class="prose prose-gray max-w-none">
                <p>A QA Engineer must employ a multi-faceted testing strategy that goes beyond standard functional testing to validate Verifiable Credential integrity:</p>

                <div class="grid md:grid-cols-3 gap-4 mt-6">
                  <div class="bg-green-50 border border-green-200 p-4 rounded-lg">
                    <h4 class="font-semibold text-green-800 mb-2">Positive Testing</h4>
                    <ul class="text-sm text-green-700 space-y-1">
                      <li>• Test credential issuance lifecycle</li>
                      <li>• Verify correct schema conformance</li>
                      <li>• Validate successful verification</li>
                      <li>• Check proper storage in wallets</li>
                    </ul>
                  </div>
                  <div class="bg-red-50 border border-red-200 p-4 rounded-lg">
                    <h4 class="font-semibold text-red-800 mb-2">Negative Testing</h4>
                    <ul class="text-sm text-red-700 space-y-1">
                      <li>• Tampered credentials</li>
                      <li>• Revoked credentials</li>
                      <li>• Expired credentials</li>
                      <li>• Untrusted issuers</li>
                    </ul>
                  </div>
                  <div class="bg-yellow-50 border border-yellow-200 p-4 rounded-lg">
                    <h4 class="font-semibold text-yellow-800 mb-2">Failure Conditions</h4>
                    <ul class="text-sm text-yellow-700 space-y-1">
                      <li>• Ledger unavailability</li>
                      <li>• Network connectivity loss</li>
                      <li>• Agent failures</li>
                      <li>• Timeout scenarios</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>

            <div class="phase-card">
              <h3 class="serif text-xl font-semibold text-gray-800 mb-4">Q16: Security Quality Gates for Decentralized Identity Systems</h3>
              <p class="text-gray-700 mb-4">
                <strong>Stakeholder:</strong> Security Engineer, QA Engineer
                <br/>
                <strong>Angles:</strong>
                <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mr-2">Technical</span>
                <span class="inline-block bg-red-100 text-red-800 px-2 py-1 rounded text-xs mr-2">Regulatory</span>
                <span class="inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs">Design/Patterns</span>
              </p>

              <div class="prose prose-gray max-w-none">
                <p>Ensuring security requires rigorous quality gates that validate the entire stack before production deployment:</p>

                <ol class="space-y-4">
                  <li><strong>Secure Key Management:</strong>
                    <br/>
                    All private keys stored in Hardware Security Modules (HSM) or encrypted software wallets. Automated tests verify keys are never exposed in logs or configuration files.
                  </li>
                  <li><strong>Cryptographic Protocol Implementation:</strong>
                    <br/>
                    Verification that DIDComm protocol is correctly implemented with proper message encryption, authentication, and replay attack prevention.
                  </li>
                  <li><strong>Web Application Security:</strong>
                    <br/>
                    REST APIs tested for SQL injection, XSS, broken authentication, and other common vulnerabilities.
                  </li>
                  <li><strong>Compliance Standards:</strong>
                    <br/>
                    Audits for SOC 2, ISO 27001, and GDPR compliance with privacy-by-design principles.
                  </li>
                </ol>
              </div>
            </div>
          </div>

          <!-- Deployment &amp; Release -->
          <div id="deployment-release" class="mb-16">
            <h2 class="serif text-3xl font-bold text-gray-900 mb-8 flex items-center">
              <span class="inline-block w-8 h-8 bg-blue-500 text-white rounded-full text-center leading-8 text-sm mr-3">5</span>
              Deployment &amp; Release
            </h2>

            <div class="phase-card">
              <h3 class="serif text-xl font-semibold text-gray-800 mb-4">Q18: Recommended Deployment Patterns for ACA-Py Sidecars in Kubernetes</h3>
              <p class="text-gray-700 mb-4">
                <strong>Stakeholder:</strong> DevOps Engineer, SRE
                <br/>
                <strong>Angles:</strong>
                <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mr-2">Technical</span>
                <span class="inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs mr-2">Design/Patterns</span>
                <span class="inline-block bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs">Ecosystem/Integration</span>
              </p>

              <div class="prose prose-gray max-w-none">
                <p>The recommended deployment pattern is to <strong>co-locate</strong> the ACA-Py agent container within the same Kubernetes Pod as the main application container. This canonical sidecar pattern offers several key advantages:</p>

                <div class="mt-6 grid md:grid-cols-2 gap-6">
                  <div class="bg-blue-50 p-6 rounded-lg">
                    <h4 class="font-semibold text-blue-900 mb-3">Technical Benefits</h4>
                    <ul class="text-sm text-blue-800 space-y-2">
                      <li>• Shared network namespace for local communication</li>
                      <li>• Reduced latency through localhost connections</li>
                      <li>• Simplified security model</li>
                      <li>• Coordinated lifecycle management</li>
                    </ul>
                  </div>
                  <div class="bg-green-50 p-6 rounded-lg">
                    <h4 class="font-semibold text-green-900 mb-3">Operational Benefits</h4>
                    <ul class="text-sm text-green-800 space-y-2">
                      <li>• Single unit for scaling and management</li>
                      <li>• Consistent scheduling on same node</li>
                      <li>• Shared resource allocation</li>
                      <li>• Unified monitoring and logging</li>
                    </ul>
                  </div>
                </div>

                <p class="mt-4">The Pod specification should be defined in declarative YAML using Infrastructure as Code (IaC) tools like Helm or Terraform, with clear resource requests and limits for both containers.</p>
              </div>
            </div>

            <div class="phase-card">
              <h3 class="serif text-xl font-semibold text-gray-800 mb-4">Q20: Rollback Mechanisms for Identity-Dependent Systems</h3>
              <p class="text-gray-700 mb-4">
                <strong>Stakeholder:</strong> DevOps Engineer, SRE
                <br/>
                <strong>Angles:</strong>
                <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mr-2">Technical</span>
                <span class="inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs mr-2">Design/Patterns</span>
                <span class="inline-block bg-green-100 text-green-800 px-2 py-1 rounded text-xs">Business/Market</span>
              </p>

              <div class="prose prose-gray max-w-none">
                <p>Designing robust rollback mechanisms is critical for systems where network functions rely on Aries agents for authentication. Two primary strategies are recommended:</p>

                <div class="grid md:grid-cols-2 gap-6 mt-6">
                  <div class="border border-gray-200 p-6 rounded-lg">
                    <h4 class="font-semibold text-gray-900 mb-3">Rolling Updates (Built-in)</h4>
                    <p class="text-sm text-gray-700 mb-3">Kubernetes gradually replaces old Pods with new ones. If new Pods fail health checks, the rollout stops and can be automatically rolled back.</p>
                    <div class="bg-gray-50 p-3 rounded text-xs">
                      <strong>Pros:</strong> Automated, zero-downtime
                      <br/>
                      <strong>Cons:</strong> Limited control, slower rollback
                    </div>
                  </div>
                  <div class="border border-gray-200 p-6 rounded-lg">
                    <h4 class="font-semibold text-gray-900 mb-3">Blue-Green Deployment</h4>
                    <p class="text-sm text-gray-700 mb-3">Two identical environments (blue/green) with traffic switching. Rollback is instant by switching traffic back to the stable environment.</p>
                    <div class="bg-gray-50 p-3 rounded text-xs">
                      <strong>Pros:</strong> Instant rollback, full testing
                      <br/>
                      <strong>Cons:</strong> Higher resource cost, complex setup
                    </div>
                  </div>
                </div>

                <p class="mt-4">The blue-green approach <span class="verb-highlight">minimizes</span> downtime and provides a fast, reliable rollback mechanism crucial for identity-layer dependencies.</p>
              </div>
            </div>
          </div>

          <!-- Operations &amp; Observability -->
          <div id="operations-observability" class="mb-16">
            <h2 class="serif text-3xl font-bold text-gray-900 mb-8 flex items-center">
              <span class="inline-block w-8 h-8 bg-blue-500 text-white rounded-full text-center leading-8 text-sm mr-3">6</span>
              Operations &amp; Observability
            </h2>

            <div class="phase-card">
              <h3 class="serif text-xl font-semibold text-gray-800 mb-4">Q22: Key Service Level Objectives (SLOs) for Entity Service Mesh</h3>
              <p class="text-gray-700 mb-4">
                <strong>Stakeholder:</strong> SRE, Product Manager
                <br/>
                <strong>Angles:</strong>
                <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mr-2">Technical</span>
                <span class="inline-block bg-green-100 text-green-800 px-2 py-1 rounded text-xs mr-2">Business/Market</span>
                <span class="inline-block bg-green-100 text-green-800 px-2 py-1 rounded text-xs">Economic</span>
              </p>

              <div class="prose prose-gray max-w-none">
                <p>An SRE defining SLOs for a Hyperledger Aries-based entity service mesh must focus on metrics reflecting the health, performance, and reliability of the identity layer:</p>

                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4 mt-6">
                  <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg text-center">
                    <i class="fas fa-server text-blue-600 text-2xl mb-2"></i>
                    <h4 class="font-semibold text-blue-900">Agent Availability</h4>
                    <p class="text-sm text-blue-800 mt-2">99.9% uptime target</p>
                    <p class="text-xs text-blue-600 mt-1">≤8.77 hours downtime/year</p>
                  </div>
                  <div class="bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg text-center">
                    <i class="fas fa-clock text-green-600 text-2xl mb-2"></i>
                    <h4 class="font-semibold text-green-900">Verification Latency</h4>
                    <p class="text-sm text-green-800 mt-2">95% under 500ms</p>
                    <p class="text-xs text-green-600 mt-1">End-to-end protocol completion</p>
                  </div>
                  <div class="bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg text-center">
                    <i class="fas fa-check-circle text-purple-600 text-2xl mb-2"></i>
                    <h4 class="font-semibold text-purple-900">Issuance Success</h4>
                    <p class="text-sm text-purple-800 mt-2">99.5% success rate</p>
                    <p class="text-xs text-purple-600 mt-1">&lt;0.5% system errors</p>
                  </div>
                  <div class="bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-lg text-center">
                    <i class="fas fa-sync text-orange-600 text-2xl mb-2"></i>
                    <h4 class="font-semibold text-orange-900">Ledger Sync</h4>
                    <p class="text-sm text-orange-800 mt-2">Maximum 2s lag</p>
                    <p class="text-xs text-orange-600 mt-1">Transaction visibility delay</p>
                  </div>
                </div>

                <p class="mt-6">These SLOs provide a comprehensive view of the entity service mesh health, directly impacting user experience and business objectives.</p>
              </div>
            </div>

            <div class="phase-card">
              <h3 class="serif text-xl font-semibold text-gray-800 mb-4">Q24: Critical Observability Metrics for Decentralized Identity</h3>
              <p class="text-gray-700 mb-4">
                <strong>Stakeholder:</strong> SRE, Data Engineer
                <br/>
                <strong>Angles:</strong>
                <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mr-2">Technical</span>
                <span class="inline-block bg-green-100 text-green-800 px-2 py-1 rounded text-xs mr-2">Business/Market</span>
                <span class="inline-block bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs">Ecosystem/Integration</span>
              </p>

              <div class="prose prose-gray max-w-none">
                <p>Observability in a decentralized identity system requires a multi-layered approach, collecting critical metrics from all system components:</p>

                <div class="mt-6 space-y-6">
                  <div class="border-l-4 border-blue-500 pl-6">
                    <h4 class="font-semibold text-gray-800 mb-2">Aries Agent Metrics</h4>
                    <ul class="text-sm text-gray-700 space-y-1">
                      <li>• Agent uptime and responsiveness (health checks)</li>
                      <li>• Resource utilization (CPU, memory, disk I/O)</li>
                      <li>• Active connections and credential operation rates</li>
                      <li>• Operation latency and message queue depths</li>
                    </ul>
                  </div>

                  <div class="border-l-4 border-green-500 pl-6">
                    <h4 class="font-semibold text-gray-800 mb-2">Ledger Metrics</h4>
                    <ul class="text-sm text-gray-700 space-y-1">
                      <li>• Transaction throughput (transactions per second)</li>
                      <li>• Transaction latency (submission to commit time)</li>
                      <li>• Validator node participation and consensus health</li>
                      <li>• Revocation registry size and growth rate</li>
                    </ul>
                  </div>

                  <div class="border-l-4 border-purple-500 pl-6">
                    <h4 class="font-semibold text-gray-800 mb-2">Network Metrics</h4>
                    <ul class="text-sm text-gray-700 space-y-1">
                      <li>• DIDComm message delivery success/failure rates</li>
                      <li>• Network hop latency between agents</li>
                      <li>• Peer connection stability and churn rate</li>
                    </ul>
                  </div>
                </div>

                <p class="mt-6">By collecting and correlating these metrics from all layers, SREs can build comprehensive system understanding, identify performance bottlenecks, and quickly diagnose root causes of issues.</p>
              </div>
            </div>
          </div>

          <!-- Maintenance &amp; Support -->
          <div id="maintenance-support" class="mb-16">
            <h2 class="serif text-3xl font-bold text-gray-900 mb-8 flex items-center">
              <span class="inline-block w-8 h-8 bg-blue-500 text-white rounded-full text-center leading-8 text-sm mr-3">7</span>
              Maintenance &amp; Support
            </h2>

            <div class="phase-card">
              <h3 class="serif text-xl font-semibold text-gray-800 mb-4">Q26: Managing Technical Debt in Evolving Aries Ecosystem</h3>
              <p class="text-gray-700 mb-4">
                <strong>Stakeholder:</strong> Developer, Architect
                <br/>
                <strong>Angles:</strong>
                <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mr-2">Technical</span>
                <span class="inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs mr-2">Design/Patterns</span>
                <span class="inline-block bg-green-100 text-green-800 px-2 py-1 rounded text-xs">Economic</span>
              </p>

              <div class="prose prose-gray max-w-none">
                <p>Managing technical debt in a codebase integrating with the rapidly evolving Hyperledger Aries ecosystem requires proactive and disciplined approaches:</p>

                <div class="grid md:grid-cols-2 gap-6 mt-6">
                  <div class="space-y-4">
                    <div class="bg-blue-50 p-4 rounded-lg">
                      <h4 class="font-semibold text-blue-900 mb-2">Automation Strategy</h4>
                      <p class="text-sm text-blue-800">Use Dependabot or Renovate to automatically create pull requests for dependency updates when new versions are released, reducing manual effort.</p>
                    </div>
                    <div class="bg-green-50 p-4 rounded-lg">
                      <h4 class="font-semibold text-green-900 mb-2">Testing Safety Net</h4>
                      <p class="text-sm text-green-800">Comprehensive automated tests (unit, integration, contract) provide confidence to update dependencies frequently without breaking functionality.</p>
                    </div>
                  </div>
                  <div class="space-y-4">
                    <div class="bg-purple-50 p-4 rounded-lg">
                      <h4 class="font-semibold text-purple-900 mb-2">Abstraction Layer</h4>
                      <p class="text-sm text-purple-800">Create wrapper/adapter layers around agent APIs to decouple business logic from Aries integration specifics, making future changes easier.</p>
                    </div>
                    <div class="bg-orange-50 p-4 rounded-lg">
                      <h4 class="font-semibold text-orange-900 mb-2">Capacity Allocation</h4>
                      <p class="text-sm text-orange-800">Dedicate a percentage of each development cycle to addressing technical debt through refactoring and architecture improvements.</p>
                    </div>
                  </div>
                </div>

                <p class="mt-6">By treating technical debt as a first-class citizen, teams can ensure the long-term health and maintainability of their codebase while staying current with the evolving Aries ecosystem.</p>
              </div>
            </div>

            <div class="phase-card">
              <h3 class="serif text-xl font-semibold text-gray-800 mb-4">Q28: Data Migration and Versioning for Verifiable Credentials</h3>
              <p class="text-gray-700 mb-4">
                <strong>Stakeholder:</strong> Data Engineer, Architect
                <br/>
                <strong>Angles:</strong>
                <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mr-2">Technical</span>
                <span class="inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs mr-2">Design/Patterns</span>
                <span class="inline-block bg-green-100 text-green-800 px-2 py-1 rounded text-xs">Business/Market</span>
              </p>

              <div class="prose prose-gray max-w-none">
                <p>Handling data migration and versioning for Verifiable Credentials stored on Hyperledger Indy is complex due to the ledger&#39;s immutable nature. The key challenge is managing on-ledger artifacts that support credential verification:</p>

                <div class="mt-6 bg-yellow-50 border border-yellow-200 p-6 rounded-lg">
                  <h4 class="font-semibold text-yellow-900 mb-3">Critical Understanding</h4>
                  <p class="text-yellow-800 text-sm">Verifiable Credentials themselves are <strong>not stored on the ledger</strong>. The ledger stores public verification data: credential schemas and credential definitions.</p>
                </div>

                <div class="mt-6 grid md:grid-cols-2 gap-6">
                  <div class="border border-gray-200 p-6 rounded-lg">
                    <h4 class="font-semibold text-gray-900 mb-3">Schema Versioning Strategy</h4>
                    <p class="text-sm text-gray-700 mb-3">When schema changes are needed (e.g., adding new fields), create new schema versions rather than modifying existing ones.</p>
                    <div class="bg-gray-50 p-3 rounded">
                      <p class="text-xs text-gray-600"><strong>Process:</strong> Create new schema with version number → Publish to ledger → Update application to handle multiple schema versions.</p>
                    </div>
                  </div>
                  <div class="border border-gray-200 p-6 rounded-lg">
                    <h4 class="font-semibold text-gray-900 mb-3">Credential Definition Management</h4>
                    <p class="text-sm text-gray-700 mb-3">Credential definitions are tied to specific schemas and issuers. New definitions may be needed when issuance policies change.</p>
                    <div class="bg-gray-50 p-3 rounded">
                      <p class="text-xs text-gray-600"><strong>Challenge:</strong> Maintain clear mapping of credential definitions to issued VCs while preserving verification capabilities.</p>
                    </div>
                  </div>
                </div>

                <p class="mt-6">This requires careful planning and robust data governance to ensure the system remains functional and that old VCs can still be verified even as the on-ledger schemas and definitions evolve over time.</p>
              </div>
            </div>
          </div>

          <!-- Evolution &amp; Governance -->
          <div id="evolution-governance" class="mb-16">
            <h2 class="serif text-3xl font-bold text-gray-900 mb-8 flex items-center">
              <span class="inline-block w-8 h-8 bg-blue-500 text-white rounded-full text-center leading-8 text-sm mr-3">8</span>
              Evolution &amp; Governance
            </h2>

            <div class="phase-card">
              <h3 class="serif text-xl font-semibold text-gray-800 mb-4">Q30: Migration Planning from Centralized to Decentralized Identity</h3>
              <p class="text-gray-700 mb-4">
                <strong>Stakeholder:</strong> Product Manager, Architect
                <br/>
                <strong>Angles:</strong>
                <span class="inline-block bg-green-100 text-green-800 px-2 py-1 rounded text-xs mr-2">Business/Market</span>
                <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mr-2">Technical</span>
                <span class="inline-block bg-red-100 text-red-800 px-2 py-1 rounded text-xs">Regulatory</span>
              </p>

              <div class="prose prose-gray max-w-none">
                <p>A Product Manager must adopt a phased and strategic approach to migrate from centralized identity providers to a decentralized model using Hyperledger Aries:</p>

                <div class="mt-6 space-y-6">
                  <div class="flex items-start space-x-4">
                    <div class="flex-shrink-0 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold">1</div>
                    <div class="flex-1">
                      <h4 class="font-semibold text-gray-900 mb-2">Discovery &amp; Planning Phase</h4>
                      <p class="text-sm text-gray-700">Thorough analysis of existing identity system, mapping all integrations, user flows, and data dependencies. Conduct stakeholder interviews and risk assessments.</p>
                    </div>
                  </div>

                  <div class="flex items-start space-x-4">
                    <div class="flex-shrink-0 w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold">2</div>
                    <div class="flex-1">
                      <h4 class="font-semibold text-gray-900 mb-2">Pilot Project</h4>
                      <p class="text-sm text-gray-700">Migrate a small, non-critical application or user group to the new Aries-based system. Use this as proof of concept to test technology, gather feedback, and refine implementation.</p>
                    </div>
                  </div>

                  <div class="flex items-start space-x-4">
                    <div class="flex-shrink-0 w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center text-sm font-bold">3</div>
                    <div class="flex-1">
                      <h4 class="font-semibold text-gray-900 mb-2">Phased Rollout</h4>
                      <p class="text-sm text-gray-700">Prioritize migration based on business value and technical complexity. Operate in hybrid state with both identity systems active during transition period.</p>
                    </div>
                  </div>

                  <div class="flex items-start space-x-4">
                    <div class="flex-shrink-0 w-8 h-8 bg-orange-500 text-white rounded-full flex items-center justify-center text-sm font-bold">4</div>
                    <div class="flex-1">
                      <h4 class="font-semibold text-gray-900 mb-2">Change Management &amp; Communication</h4>
                      <p class="text-sm text-gray-700">Clear communication strategy explaining benefits (enhanced privacy, self-sovereign wallet) with user training and support for the new authentication model.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="phase-card">
              <h3 class="serif text-xl font-semibold text-gray-800 mb-4">Q31: Consortium Governance Framework for Shared Service Mesh</h3>
              <p class="text-gray-700 mb-4">
                <strong>Stakeholder:</strong> Leadership, Architect
                <br/>
                <strong>Angles:</strong>
                <span class="inline-block bg-red-100 text-red-800 px-2 py-1 rounded text-xs mr-2">Regulatory</span>
                <span class="inline-block bg-green-100 text-green-800 px-2 py-1 rounded text-xs mr-2">Business/Market</span>
                <span class="inline-block bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs">Ecosystem/Integration</span>
              </p>

              <div class="prose prose-gray max-w-none">
                <p>Managing a consortium of organizations using a shared Hyperledger Aries-based service mesh requires a robust and transparent governance framework:</p>

                <div class="grid md:grid-cols-2 gap-6 mt-6">
                  <div class="space-y-4">
                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4">
                      <h4 class="font-semibold text-blue-900 mb-2">Business Governance Framework</h4>
                      <p class="text-sm text-blue-800">Legal and commercial agreements including consortium mission, membership criteria, fee structures, and dispute resolution processes.</p>
                    </div>
                    <div class="bg-green-50 border-l-4 border-green-500 p-4">
                      <h4 class="font-semibold text-green-900 mb-2">Technical Governance Framework</h4>
                      <p class="text-sm text-green-800">Technical standards and policies including supported protocol versions, schema approval processes, and security requirements.</p>
                    </div>
                  </div>
                  <div class="space-y-4">
                    <div class="bg-purple-50 border-l-4 border-purple-500 p-4">
                      <h4 class="font-semibold text-purple-900 mb-2">Ledger Governance Model</h4>
                      <p class="text-sm text-purple-800">Specifies who operates ledger nodes, how new nodes are added, and the consensus mechanism used to validate transactions.</p>
                    </div>
                    <div class="bg-orange-50 border-l-4 border-orange-500 p-4">
                      <h4 class="font-semibold text-orange-900 mb-2">Data Governance Policy</h4>
                      <p class="text-sm text-orange-800">Rules for data sharing, privacy, and consent within the network, ensuring regulatory compliance like GDPR.</p>
                    </div>
                  </div>
                </div>

                <p class="mt-6">This multi-faceted governance structure is essential for building and maintaining a healthy, trustworthy consortium with clear rules and transparent decision-making processes.</p>
              </div>
            </div>

            <div class="phase-card">
              <h3 class="serif text-xl font-semibold text-gray-800 mb-4">Q33: Strategic ROI Evaluation for Hyperledger Aries Adoption</h3>
              <p class="text-gray-700 mb-4">
                <strong>Stakeholder:</strong> Leadership, Product Manager
                <br/>
                <strong>Angles:</strong>
                <span class="inline-block bg-green-100 text-green-800 px-2 py-1 rounded text-xs mr-2">Economic</span>
                <span class="inline-block bg-green-100 text-green-800 px-2 py-1 rounded text-xs mr-2">Business/Market</span>
                <span class="inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">Technical</span>
              </p>

              <div class="prose prose-gray max-w-none">
                <p>When evaluating Return on Investment (ROI) for Hyperledger Aries versus traditional identity solutions, Leadership must consider strategic factors beyond simple cost comparison:</p>

                <div class="mt-8 grid md:grid-cols-2 gap-8">
                  <div class="bg-green-50 p-6 rounded-xl">
                    <h4 class="serif text-lg font-semibold text-green-900 mb-4 flex items-center">
                      <i class="fas fa-chart-line text-green-600 mr-3"></i>
                      Benefits &amp; Opportunities
                    </h4>
                    <ul class="space-y-3 text-sm text-green-800">
                      <li class="flex items-start">
                        <i class="fas fa-dollar-sign text-green-600 mr-2 mt-1 flex-shrink-0"></i>
                        <span><strong>Reduced Intermediation Costs:</strong> Elimination of third-party verification fees and data broker charges</span>
                      </li>
                      <li class="flex items-start">
                        <i class="fas fa-lightbulb text-green-600 mr-2 mt-1 flex-shrink-0"></i>
                        <span><strong>New Business Models:</strong> Privacy-preserving services and trustless B2B data sharing create competitive advantage</span>
                      </li>
                      <li class="flex items-start">
                        <i class="fas fa-shield-alt text-green-600 mr-2 mt-1 flex-shrink-0"></i>
                        <span><strong>Reduced Compliance Risk:</strong> Simplified GDPR compliance and lower breach liability</span>
                      </li>
                      <li class="flex items-start">
                        <i class="fas fa-unlock text-green-600 mr-2 mt-1 flex-shrink-0"></i>
                        <span><strong>Vendor Independence:</strong> Avoid lock-in and gain control over digital identity infrastructure</span>
                      </li>
                    </ul>
                  </div>

                  <div class="bg-red-50 p-6 rounded-xl">
                    <h4 class="serif text-lg font-semibold text-red-900 mb-4 flex items-center">
                      <i class="fas fa-exclamation-triangle text-red-600 mr-3"></i>
                      Costs &amp; Risks
                    </h4>
                    <ul class="space-y-3 text-sm text-red-800">
                      <li class="flex items-start">
                        <i class="fas fa-coins text-red-600 mr-2 mt-1 flex-shrink-0"></i>
                        <span><strong>Initial Investment:</strong> Higher short-term TCO vs. SaaS identity providers</span>
                      </li>
                      <li class="flex items-start">
                        <i class="fas fa-graduation-cap text-red-600 mr-2 mt-1 flex-shrink-0"></i>
                        <span><strong>Learning Curve:</strong> Building expertise in decentralized identity technology</span>
                      </li>
                      <li class="flex items-start">
                        <i class="fas fa-code-branch text-red-600 mr-2 mt-1 flex-shrink-0"></i>
                        <span><strong>Ecosystem Maturity:</strong> Emerging technology with evolving standards</span>
                      </li>
                      <li class="flex items-start">
                        <i class="fas fa-project-diagram text-red-600 mr-2 mt-1 flex-shrink-0"></i>
                        <span><strong>Integration Complexity:</strong> Connecting with legacy systems during transition</span>
                      </li>
                    </ul>
                  </div>
                </div>

                <div class="mt-8 bg-blue-50 border-l-4 border-blue-400 p-6 rounded-lg">
                  <h4 class="font-semibold text-blue-900 mb-2">Strategic Consideration</h4>
                  <p class="text-blue-800">The ROI calculation must weigh long-term strategic benefits against initial investment and adoption risks. The $280B projected blockchain market by 2025 indicates strong economic momentum for this technology shift.</p>
                  <p class="text-sm text-blue-600 mt-2">
                    <a href="https://www.bigorangemedia.com/list/%E6%96%B0%E9%97%BB%E5%9B%9E%E9%A1%BE" class="citation-link">[Source: Blockchain Market Projections]</a>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-4xl mx-auto px-8 text-center">
          <h3 class="serif text-2xl font-bold mb-4">Hyperledger Aries: The Future of Decentralized Identity</h3>
          <p class="text-gray-400 mb-6">A comprehensive analysis of the emerging entity service mesh technology that&#39;s reshaping digital identity management.</p>

          <div class="grid md:grid-cols-3 gap-8 text-sm">
            <div>
              <h4 class="font-semibold mb-2">Key Technologies</h4>
              <ul class="text-gray-400 space-y-1">
                <li>Decentralized Identifiers (DIDs)</li>
                <li>Verifiable Credentials</li>
                <li>DIDComm Protocol</li>
                <li>ACA-Py Sidecar Pattern</li>
              </ul>
            </div>
            <div>
              <h4 class="font-semibold mb-2">Market Impact</h4>
              <ul class="text-gray-400 space-y-1">
                <li>$280B blockchain market by 2025</li>
                <li>&gt;30% YoY growth rate</li>
                <li>3+ major vendor investments</li>
                <li>Regulatory compliance focus</li>
              </ul>
            </div>
            <div>
              <h4 class="font-semibold mb-2">Core Benefits</h4>
              <ul class="text-gray-400 space-y-1">
                <li>Trustless B2B data sharing</li>
                <li>Reduced intermediation costs</li>
                <li>Enhanced privacy and consent</li>
                <li>Elimination of vendor lock-in</li>
              </ul>
            </div>
          </div>

          <div class="mt-8 pt-8 border-t border-gray-800 text-xs text-gray-500">
            <p>Based on Hyperledger Aries documentation, academic research, and industry analysis. All citations are linked throughout the document.</p>
          </div>
        </div>
      </footer>
    </main>

    <script>
        // Initialize Mermaid
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.initialize({ 
                startOnLoad: true,
                theme: 'base',
                themeVariables: {
                    primaryColor: '#3b82f6',
                    primaryTextColor: '#1f2937',
                    primaryBorderColor: '#1e293b',
                    lineColor: '#64748b',
                    secondaryColor: '#f8fafc',
                    tertiaryColor: '#e2e8f0',
                    background: '#ffffff',
                    mainBkg: '#ffffff',
                    secondBkg: '#f8fafc',
                    tertiaryBkg: '#e2e8f0'
                },
                flowchart: {
                    htmlLabels: true,
                    curve: 'basis'
                },
                securityLevel: 'loose'
            });
            
            // Initialize Mermaid Controls
            initializeMermaidControls();
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Highlight active section in TOC
        window.addEventListener('scroll', function() {
            const sections = document.querySelectorAll('section[id]');
            const tocLinks = document.querySelectorAll('.toc-fixed a[href^="#"]');
            
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (window.scrollY >= sectionTop) {
                    current = section.getAttribute('id');
                }
            });

            tocLinks.forEach(link => {
                link.classList.remove('text-blue-600', 'font-semibold');
                link.classList.add('text-gray-600');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.remove('text-gray-600');
                    link.classList.add('text-blue-600', 'font-semibold');
                }
            });
        });
        
        // Initialize Mermaid Controls for zoom and pan
        function initializeMermaidControls() {
            const containers = document.querySelectorAll('.mermaid-container');

            containers.forEach(container => {
            const mermaidElement = container.querySelector('.mermaid');
            let scale = 1;
            let isDragging = false;
            let startX, startY, translateX = 0, translateY = 0;

            // 触摸相关状态
            let isTouch = false;
            let touchStartTime = 0;
            let initialDistance = 0;
            let initialScale = 1;
            let isPinching = false;

            // Zoom controls
            const zoomInBtn = container.querySelector('.zoom-in');
            const zoomOutBtn = container.querySelector('.zoom-out');
            const resetBtn = container.querySelector('.reset-zoom');
            const fullscreenBtn = container.querySelector('.fullscreen');

            function updateTransform() {
                mermaidElement.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;

                if (scale > 1) {
                container.classList.add('zoomed');
                } else {
                container.classList.remove('zoomed');
                }

                mermaidElement.style.cursor = isDragging ? 'grabbing' : 'grab';
            }

            if (zoomInBtn) {
                zoomInBtn.addEventListener('click', () => {
                scale = Math.min(scale * 1.25, 4);
                updateTransform();
                });
            }

            if (zoomOutBtn) {
                zoomOutBtn.addEventListener('click', () => {
                scale = Math.max(scale / 1.25, 0.3);
                if (scale <= 1) {
                    translateX = 0;
                    translateY = 0;
                }
                updateTransform();
                });
            }

            if (resetBtn) {
                resetBtn.addEventListener('click', () => {
                scale = 1;
                translateX = 0;
                translateY = 0;
                updateTransform();
                });
            }

            if (fullscreenBtn) {
                fullscreenBtn.addEventListener('click', () => {
                if (container.requestFullscreen) {
                    container.requestFullscreen();
                } else if (container.webkitRequestFullscreen) {
                    container.webkitRequestFullscreen();
                } else if (container.msRequestFullscreen) {
                    container.msRequestFullscreen();
                }
                });
            }

            // Mouse Events
            mermaidElement.addEventListener('mousedown', (e) => {
                if (isTouch) return; // 如果是触摸设备，忽略鼠标事件

                isDragging = true;
                startX = e.clientX - translateX;
                startY = e.clientY - translateY;
                mermaidElement.style.cursor = 'grabbing';
                updateTransform();
                e.preventDefault();
            });

            document.addEventListener('mousemove', (e) => {
                if (isDragging && !isTouch) {
                translateX = e.clientX - startX;
                translateY = e.clientY - startY;
                updateTransform();
                }
            });

            document.addEventListener('mouseup', () => {
                if (isDragging && !isTouch) {
                isDragging = false;
                mermaidElement.style.cursor = 'grab';
                updateTransform();
                }
            });

            document.addEventListener('mouseleave', () => {
                if (isDragging && !isTouch) {
                isDragging = false;
                mermaidElement.style.cursor = 'grab';
                updateTransform();
                }
            });

            // 获取两点之间的距离
            function getTouchDistance(touch1, touch2) {
                return Math.hypot(
                touch2.clientX - touch1.clientX,
                touch2.clientY - touch1.clientY
                );
            }

            // Touch Events - 触摸事件处理
            mermaidElement.addEventListener('touchstart', (e) => {
                isTouch = true;
                touchStartTime = Date.now();

                if (e.touches.length === 1) {
                // 单指拖动
                isPinching = false;
                isDragging = true;

                const touch = e.touches[0];
                startX = touch.clientX - translateX;
                startY = touch.clientY - translateY;

                } else if (e.touches.length === 2) {
                // 双指缩放
                isPinching = true;
                isDragging = false;

                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                initialDistance = getTouchDistance(touch1, touch2);
                initialScale = scale;
                }

                e.preventDefault();
            }, { passive: false });

            mermaidElement.addEventListener('touchmove', (e) => {
                if (e.touches.length === 1 && isDragging && !isPinching) {
                // 单指拖动
                const touch = e.touches[0];
                translateX = touch.clientX - startX;
                translateY = touch.clientY - startY;
                updateTransform();

                } else if (e.touches.length === 2 && isPinching) {
                // 双指缩放
                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                const currentDistance = getTouchDistance(touch1, touch2);

                if (initialDistance > 0) {
                    const newScale = Math.min(Math.max(
                    initialScale * (currentDistance / initialDistance),
                    0.3
                    ), 4);
                    scale = newScale;
                    updateTransform();
                }
                }

                e.preventDefault();
            }, { passive: false });

            mermaidElement.addEventListener('touchend', (e) => {
                // 重置状态
                if (e.touches.length === 0) {
                isDragging = false;
                isPinching = false;
                initialDistance = 0;

                // 延迟重置isTouch，避免鼠标事件立即触发
                setTimeout(() => {
                    isTouch = false;
                }, 100);
                } else if (e.touches.length === 1 && isPinching) {
                // 从双指变为单指，切换为拖动模式
                isPinching = false;
                isDragging = true;

                const touch = e.touches[0];
                startX = touch.clientX - translateX;
                startY = touch.clientY - translateY;
                }

                updateTransform();
            });

            mermaidElement.addEventListener('touchcancel', (e) => {
                isDragging = false;
                isPinching = false;
                initialDistance = 0;

                setTimeout(() => {
                isTouch = false;
                }, 100);

                updateTransform();
            });

            // Enhanced wheel zoom with better center point handling
            container.addEventListener('wheel', (e) => {
                e.preventDefault();
                const rect = container.getBoundingClientRect();
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;

                const delta = e.deltaY > 0 ? 0.9 : 1.1;
                const newScale = Math.min(Math.max(scale * delta, 0.3), 4);

                // Adjust translation to zoom towards center
                if (newScale !== scale) {
                const scaleDiff = newScale / scale;
                translateX = translateX * scaleDiff;
                translateY = translateY * scaleDiff;
                scale = newScale;

                if (scale <= 1) {
                    translateX = 0;
                    translateY = 0;
                }

                updateTransform();
                }
            });

            // Initialize display
            updateTransform();
            });
        }
    </script>
  

</body></html>